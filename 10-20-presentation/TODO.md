## 后续需要的工作
构建基于 AI Agent 的、自动化的 Issue Tracking System：
- 自动化生成 issue
- 自动化提交 issue
- 能够实现 issue-需求-功能之间的追踪

针对“功能孤立，缺少联系”的问题，构建集成测试：
- 所谓集成测试，就是能反映多个功能之间联系的测试。
- 这是为了防止模型通过投机取巧的方法通过测试。

针对增量需求，我们该怎么做？添加一个什么内容能实现增量需求？

### 已经有目标的部分
#### **自动化 Issue Tracking System**

这部分是**将你们的 AI 能力与工程实践完美结合**的关键一步，价值极高。

*   **自动化生成 Issue**: 你的 Standarder Agent 将需求转化为 `Given-When-Then` 格式后，可以再增加一个 **Formatter Agent**，将这些信息格式化成一个标准的 GitHub Issue 模板（包含标题、描述、标签、受理人等）。
*   **自动化提交 Issue**: 调用 GitHub 的 API 即可实现。这在技术上非常成熟，你们可以轻松找到相关的库或教程。
*   **实现 Issue-需求-功能之间的追踪**:
    *   **核心是 ID 和链接**。当一个 Issue 被自动创建时，GitHub 会返回一个唯一的 Issue 编号 (e.g., `#123`)。
    *   你们的 AI Developer Agent 在生成代码或提交 Commit 时，可以在 Commit Message 中包含这个 Issue 编号（例如 `git commit -m "Feat: Implement user login as described in #123"`）。
    *   这样，在 GitHub 上，这个 Issue 和相关的代码提交就会自动关联起来，实现了完美的追踪。

#### **构建集成测试**

你对集成测试的理解非常准确——**“反映多个功能之间联系的测试”**。

*   **为什么重要**: 单元测试只保证“砖头”是好的，而集成测试保证“用这些砖头砌成的墙”是稳固的。
*   **如何构建**:
    *   让你的 AI Agents 识别**跨功能的用户场景**。例如，一个典型的集成测试场景是：“**Given** 一个未登录的用户，**When** 他查询了北京到上海的车票并点击预订，**Then** 系统应该跳转到登录页面，**And** 登录成功后，应该回到他刚才选择的车票预订确认页面。”
    *   这个场景就联动了 **查询 (功能 A)**、**预订 (功能 B)** 和 **登录 (功能 C)** 三个模块。
    *   你的 **Test Generator Agent** 需要升级，不仅能生成单个功能的单元测试，还要能理解这种跨功能的场景描述，并生成相应的集成测试代码（这通常会用到 Cypress、Playwright 或 Selenium 等 E2E 测试框架）。

---

### 如何应对“增量需求”？(这是一个顶级问题)

这是软件工程的灵魂问题之一。一个系统是否有生命力，关键就看它如何应对变化。在你们的 AI Agent 框架下，处理增量需求可以引入一个新的、非常重要的角色：

#### **引入一个 "Analyzer" 或 "Diff Agent" (分析/差异对比 Agent)**

当一个增量需求进来时（比如：“我们现在需要支持学生票”），传统的做法是人去修改需求文档、代码和测试。在你们的系统中，流程应该是这样的：

1.  **输入新需求**: 将“我需要购买学生票，享受半价优惠”这个新需求输入给系统。
2.  **Extractor & Standarder 工作**: 像以前一样，将新需求转化为 `Given-When-Then` 格式。
3.  **Analyzer Agent (核心)**: 这个新 Agent 的职责是：
    *   **接收**新的形式化需求。
    *   **检索**现有的需求库和代码库。
    *   **对比差异 (Diff)**：它会分析出，“学生票”这个概念影响了哪些现有功能？
        *   它会发现，这不只是一个新功能，它**修改**了“计算票价”的逻辑。
        *   它**修改**了“查询车票”的界面（需要增加一个“学生票”的勾选项）。
        *   它**新增**了“验证学生身份”的规则。
4.  **生成变更计划 (Change Plan)**: Analyzer Agent 的输出不是直接写代码，而是一个“变更计划”，例如：
    *   `MODIFY: TicketPriceCalculator module`
    *   `MODIFY: SearchComponent UI`
    *   `CREATE: StudentVerification test cases`
    *   `CREATE: New GitHub Issue titled "Feature: Add Student Ticket Option"`
5.  **触发后续工作流**: 这个变更计划会接着被传递给 Designer, Developer, Test Generator 等后续 Agent，去具体执行代码和测试的修改与生成。

**总结一下：**

为了实现增量需求，你需要添加一个 **Analyzer Agent**。它的核心能力是 **“对比分析”** 和 **“影响评估”**，它充当了系统变更的“大脑”，使得你们的 AI 开发系统从一个“从零构建者”进化为了一个能理解上下文、进行“外科手术式”修改的“维护者”。